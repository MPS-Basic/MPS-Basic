\doxysection{simulation.\+hpp}
\hypertarget{simulation_8hpp_source}{}\label{simulation_8hpp_source}\index{src/simulation.hpp@{src/simulation.hpp}}
\mbox{\hyperlink{simulation_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{input_8hpp}{input.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{loader_8hpp}{loader.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{mps_8hpp}{mps.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{saver_8hpp}{saver.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <chrono>}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <filesystem>}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <iomanip>}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00013}00013\ \textcolor{keyword}{namespace\ }fs\ =\ std::filesystem;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00023}\mbox{\hyperlink{class_simulation}{00023}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_simulation}{Simulation}}\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00024}00024\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00025}\mbox{\hyperlink{class_simulation_a4bf9eaddad2329a9d0383555a9a9d29c}{00025}}\ \ \ \ \ \mbox{\hyperlink{class_m_p_s}{MPS}}\ \mbox{\hyperlink{class_simulation_a4bf9eaddad2329a9d0383555a9a9d29c}{mps}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00026}\mbox{\hyperlink{class_simulation_a21f4c14adc6ab0c4457b38a0649122b0}{00026}}\ \ \ \ \ \mbox{\hyperlink{class_loader}{Loader}}\ \mbox{\hyperlink{class_simulation_a21f4c14adc6ab0c4457b38a0649122b0}{loader}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00027}\mbox{\hyperlink{class_simulation_a40c16b5829c68eee5417da8d1a94340d}{00027}}\ \ \ \ \ \mbox{\hyperlink{class_saver}{Saver}}\ \mbox{\hyperlink{class_simulation_a40c16b5829c68eee5417da8d1a94340d}{saver}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00029}\mbox{\hyperlink{class_simulation_a5cee18e421c4eca4e2eb6fc5dc91ae31}{00029}}\ \ \ \ \ std::chrono::system\_clock::time\_point\ \mbox{\hyperlink{class_simulation_a8a2d0af6c4e8192dd95de7375e4e550a}{realStartTime}},\ \mbox{\hyperlink{class_simulation_a5cee18e421c4eca4e2eb6fc5dc91ae31}{realEndTime}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00030}\mbox{\hyperlink{class_simulation_af43e498bfc83c777db5f5ac4025ff923}{00030}}\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_simulation_ae927b5389e831ef15b2f53f6d561696d}{startTime}},\ \mbox{\hyperlink{class_simulation_a838684076d88a5e923c35c513a1d676c}{time}},\ \mbox{\hyperlink{class_simulation_af8d9d74a879257a2f79d0af4d19432a6}{endTime}},\ \mbox{\hyperlink{class_simulation_af43e498bfc83c777db5f5ac4025ff923}{dt}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00031}\mbox{\hyperlink{class_simulation_a699f06306dcfdad6b1d93b6df47bf6a3}{00031}}\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_simulation_a699f06306dcfdad6b1d93b6df47bf6a3}{outputPeriod}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00032}\mbox{\hyperlink{class_simulation_a52eb4c8f0c73692215708c4175be8d64}{00032}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_simulation_a52eb4c8f0c73692215708c4175be8d64}{timeStep}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00034}\mbox{\hyperlink{class_simulation_a541b34284d96fe13607db7a518b5a9db}{00034}}\ \ \ \ \ \mbox{\hyperlink{class_simulation_a541b34284d96fe13607db7a518b5a9db}{Simulation}}(fs::path\&\ settingPath)\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00035}00035\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_input}{Input}}\ input\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{class_simulation_a21f4c14adc6ab0c4457b38a0649122b0}{loader}}.\mbox{\hyperlink{class_loader_a5edd4cd4cecc1077dacf543835c9493d}{load}}(settingPath);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00036}00036\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a40c16b5829c68eee5417da8d1a94340d}{saver}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{class_saver}{Saver}}(input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_ad69555dd03731a1b8e45c50223a79063}{outputDirectory}});}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00038}00038\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a4bf9eaddad2329a9d0383555a9a9d29c}{mps}}\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{class_m_p_s}{MPS}}(input);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00039}00039\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_ae927b5389e831ef15b2f53f6d561696d}{startTime}}\ \ \ \ =\ input.\mbox{\hyperlink{struct_input_a7aa2d9b1ceba57bf119044a84c71b1ed}{startTime}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00040}00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a838684076d88a5e923c35c513a1d676c}{time}}\ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{class_simulation_ae927b5389e831ef15b2f53f6d561696d}{startTime}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00041}00041\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_af8d9d74a879257a2f79d0af4d19432a6}{endTime}}\ \ \ \ \ \ =\ input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_a73cd9110793ede99e9ebe409e5e115fd}{endTime}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00042}00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_af43e498bfc83c777db5f5ac4025ff923}{dt}}\ \ \ \ \ \ \ \ \ \ \ =\ input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_ae5d62fd011e489241c0bb81cd6129880}{dt}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00043}00043\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a699f06306dcfdad6b1d93b6df47bf6a3}{outputPeriod}}\ =\ input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_a141dd04de9ff6d85d920615b8c7721c8}{outputPeriod}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00044}00044\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00046}\mbox{\hyperlink{class_simulation_ae5c367f87c0b5dc9740bc6d00e44e72c}{00046}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_ae5c367f87c0b5dc9740bc6d00e44e72c}{run}}()\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00047}00047\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a066c57a805d892e7f2942b1fd3977381}{startSimulation}}();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00048}00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a4bf9eaddad2329a9d0383555a9a9d29c}{mps}}.\mbox{\hyperlink{class_m_p_s_a82b98cfbec3d44a835a49e7cbf450c81}{init}}();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00049}00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a40c16b5829c68eee5417da8d1a94340d}{saver}}.\mbox{\hyperlink{class_saver_ac4c19af16becbcb947ecf11e8d2eaade}{save}}(\mbox{\hyperlink{class_simulation_a4bf9eaddad2329a9d0383555a9a9d29c}{mps}},\ \mbox{\hyperlink{class_simulation_a838684076d88a5e923c35c513a1d676c}{time}});}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{class_simulation_a838684076d88a5e923c35c513a1d676c}{time}}\ <\ \mbox{\hyperlink{class_simulation_af8d9d74a879257a2f79d0af4d19432a6}{endTime}})\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ timeStepStartTime\ =\ std::chrono::system\_clock::now();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a4bf9eaddad2329a9d0383555a9a9d29c}{mps}}.\mbox{\hyperlink{class_m_p_s_a14af7aa9a9b12e69573a345b6bd9e2fc}{stepForward}}();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a52eb4c8f0c73692215708c4175be8d64}{timeStep}}++;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a838684076d88a5e923c35c513a1d676c}{time}}\ +=\ \mbox{\hyperlink{class_simulation_af43e498bfc83c777db5f5ac4025ff923}{dt}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ timeStepEndTime\ =\ std::chrono::system\_clock::now();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a8abec343d9c563052b7ed14b441bd0fc}{timeStepReport}}(timeStepStartTime,\ timeStepEndTime);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_simulation_ad1eb2f0dd1a1faf56a9b7295dab09e61}{saveCondition}}())\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a40c16b5829c68eee5417da8d1a94340d}{saver}}.\mbox{\hyperlink{class_saver_ac4c19af16becbcb947ecf11e8d2eaade}{save}}(\mbox{\hyperlink{class_simulation_a4bf9eaddad2329a9d0383555a9a9d29c}{mps}},\ \mbox{\hyperlink{class_simulation_a838684076d88a5e923c35c513a1d676c}{time}});}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00064}00064\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00065}00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a139d626352f65ce1bf38e081d29e4cc5}{endSimulation}}();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00066}00066\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00068}00068\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00069}\mbox{\hyperlink{class_simulation_a066c57a805d892e7f2942b1fd3977381}{00069}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_a066c57a805d892e7f2942b1fd3977381}{startSimulation}}()\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00070}00070\ \ \ \ \ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00071}00071\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}***\ START\ SIMULATION\ ***"{}}\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00072}00072\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a8a2d0af6c4e8192dd95de7375e4e550a}{realStartTime}}\ =\ std::chrono::system\_clock::now();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00073}00073\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00075}\mbox{\hyperlink{class_simulation_a63a4837d1dfdb3bf9aec92fecfa89bfa}{00075}}\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Rep,\ \textcolor{keyword}{typename}\ Period>\ std::string\ \mbox{\hyperlink{class_simulation_a63a4837d1dfdb3bf9aec92fecfa89bfa}{calHourMinuteSecond}}(std::chrono::duration<Rep,\ Period>\ d)\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00076}00076\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ h\ =\ std::chrono::duration\_cast<chrono::hours>(d);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00077}00077\ \ \ \ \ \ \ \ \ d\ -\/=\ h;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00078}00078\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ m\ =\ std::chrono::duration\_cast<chrono::minutes>(d);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00079}00079\ \ \ \ \ \ \ \ \ d\ -\/=\ m;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00080}00080\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ s\ =\ std::chrono::duration\_cast<chrono::seconds>(d);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00082}00082\ \ \ \ \ \ \ \ \ stringstream\ out;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00083}00083\ \ \ \ \ \ \ \ \ out\ <<\ h.count()\ <<\ \textcolor{stringliteral}{"{}h\ "{}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00084}00084\ \ \ \ \ \ \ \ \ out\ <<\ setfill(\textcolor{charliteral}{'0'})\ <<\ setw(2)\ <<\ m.count()\ <<\ \textcolor{stringliteral}{"{}m\ "{}}\ <<\ s.count()\ <<\ \textcolor{stringliteral}{"{}s"{}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ out.str();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00086}00086\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00088}\mbox{\hyperlink{class_simulation_a139d626352f65ce1bf38e081d29e4cc5}{00088}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_a139d626352f65ce1bf38e081d29e4cc5}{endSimulation}}()\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00089}00089\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a5cee18e421c4eca4e2eb6fc5dc91ae31}{realEndTime}}\ =\ std::chrono::system\_clock::now();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00090}00090\ \ \ \ \ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00091}00091\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Total\ Simulation\ time\ =\ "{}}\ <<\ \mbox{\hyperlink{class_simulation_a63a4837d1dfdb3bf9aec92fecfa89bfa}{calHourMinuteSecond}}(\mbox{\hyperlink{class_simulation_a5cee18e421c4eca4e2eb6fc5dc91ae31}{realEndTime}}\ -\/\ \mbox{\hyperlink{class_simulation_a8a2d0af6c4e8192dd95de7375e4e550a}{realStartTime}})\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00093}00093\ \ \ \ \ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00094}00094\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}***\ END\ SIMULATION\ ***"{}}\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00095}00095\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00097}00097\ \ \ \ \ \textcolor{comment}{//\ Report\ time\ step\ information\ to\ the\ console}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00098}\mbox{\hyperlink{class_simulation_a8abec343d9c563052b7ed14b441bd0fc}{00098}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_a8abec343d9c563052b7ed14b441bd0fc}{timeStepReport}}(\textcolor{keyword}{const}\ std::chrono::system\_clock::time\_point\&\ timeStepStartTime,}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::chrono::system\_clock::time\_point\&\ timeStepEndTime)\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00101}00101\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ elapsedTime\ =\ timeStepEndTime\ -\/\ \mbox{\hyperlink{class_simulation_a8a2d0af6c4e8192dd95de7375e4e550a}{realStartTime}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00102}00102\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ elapsed\ \ \ \ \ =\ \textcolor{stringliteral}{"{}elapsed="{}}\ +\ \mbox{\hyperlink{class_simulation_a63a4837d1dfdb3bf9aec92fecfa89bfa}{calHourMinuteSecond}}(elapsedTime);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ ave\ =\ 0.0;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_simulation_a52eb4c8f0c73692215708c4175be8d64}{timeStep}}\ !=\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ ave\ =}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (double)\ (std::chrono::duration\_cast<std::chrono::nanoseconds>(elapsedTime).count())\ /\ (\mbox{\hyperlink{class_simulation_a52eb4c8f0c73692215708c4175be8d64}{timeStep}}\ *\ 1e9);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00108}00108\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00110}00110\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ remain\ =\ \textcolor{stringliteral}{"{}remain="{}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00111}00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_simulation_a52eb4c8f0c73692215708c4175be8d64}{timeStep}}\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ remain\ +=\ \textcolor{stringliteral}{"{}-\/h\ -\/-\/m\ -\/-\/s"{}};}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00113}00113\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ totalTime\ =\ std::chrono::nanoseconds((int64\_t)\ (ave\ *\ (\mbox{\hyperlink{class_simulation_af8d9d74a879257a2f79d0af4d19432a6}{endTime}}\ -\/\ \mbox{\hyperlink{class_simulation_ae927b5389e831ef15b2f53f6d561696d}{startTime}})\ /\ \mbox{\hyperlink{class_simulation_af43e498bfc83c777db5f5ac4025ff923}{dt}}\ *\ 1e9));}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ remain\ +=\ \mbox{\hyperlink{class_simulation_a63a4837d1dfdb3bf9aec92fecfa89bfa}{calHourMinuteSecond}}(totalTime\ -\/\ elapsedTime);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00116}00116\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00117}00117\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ last\ =}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ std::chrono::duration\_cast<std::chrono::nanoseconds>(timeStepEndTime\ -\/\ timeStepStartTime).count()\ *\ 1e-\/9;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00120}00120\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ terminal\ output}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00121}00121\ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\%d:\ dt=\%.gs\ \ \ t=\%.3lfs\ \ \ fin=\%.1lfs\ \ \ \%s\ \ \ \%s\ \ \ ave=\%.3lfs/step\ \ \ "{}}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}last=\%.3lfs/step\ \ \ out=\%dfiles\ \ \ Courant=\%.2lf\(\backslash\)n"{}},}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simulation_a52eb4c8f0c73692215708c4175be8d64}{timeStep}},\ \mbox{\hyperlink{class_simulation_af43e498bfc83c777db5f5ac4025ff923}{dt}},\ \mbox{\hyperlink{class_simulation_a838684076d88a5e923c35c513a1d676c}{time}},\ \mbox{\hyperlink{class_simulation_af8d9d74a879257a2f79d0af4d19432a6}{endTime}},\ elapsed.c\_str(),\ remain.c\_str(),\ ave,\ last,\ \mbox{\hyperlink{class_simulation_a40c16b5829c68eee5417da8d1a94340d}{saver}}.\mbox{\hyperlink{class_saver_abc2e304b37e8af3d95c55f7eec26cf97}{fileNumber}},\ \mbox{\hyperlink{class_simulation_a4bf9eaddad2329a9d0383555a9a9d29c}{mps}}.\mbox{\hyperlink{class_m_p_s_a3a67bb2944e7f0ae45e9431b0d7e781f}{courant}});}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00125}00125\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ error\ output}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00126}00126\ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}\%4d:\ t=\%.3lfs\(\backslash\)n"{}},\ \mbox{\hyperlink{class_simulation_a52eb4c8f0c73692215708c4175be8d64}{timeStep}},\ \mbox{\hyperlink{class_simulation_a838684076d88a5e923c35c513a1d676c}{time}});}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00127}00127\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00129}\mbox{\hyperlink{class_simulation_ad1eb2f0dd1a1faf56a9b7295dab09e61}{00129}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_simulation_ad1eb2f0dd1a1faf56a9b7295dab09e61}{saveCondition}}()\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00130}00130\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOTE:\ Is\ fileNumber\ really\ necessary?}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00131}00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_simulation_a838684076d88a5e923c35c513a1d676c}{time}}\ -\/\ \mbox{\hyperlink{class_simulation_ae927b5389e831ef15b2f53f6d561696d}{startTime}}\ >=\ \mbox{\hyperlink{class_simulation_a699f06306dcfdad6b1d93b6df47bf6a3}{outputPeriod}}\ *\ double(\mbox{\hyperlink{class_simulation_a40c16b5829c68eee5417da8d1a94340d}{saver}}.\mbox{\hyperlink{class_saver_abc2e304b37e8af3d95c55f7eec26cf97}{fileNumber}});}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00132}00132\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00134}00134\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ If\ this\ function\ is\ also\ needed\ in\ other\ classes,\ it\ should\ be\ moved\ to\ a\ separate\ file.}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00135}\mbox{\hyperlink{class_simulation_a5e326e66cd1e56d8247219e9f83bc2cf}{00135}}\ \ \ \ \ std::string\ \mbox{\hyperlink{class_simulation_a5e326e66cd1e56d8247219e9f83bc2cf}{getCurrentTimeString}}()\ \{}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00136}00136\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ currentTime\ \ =\ std::chrono::system\_clock::to\_time\_t(std::chrono::system\_clock::now());}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00137}00137\ \ \ \ \ \ \ \ \ std::tm*\ timeInfo\ =\ std::localtime(\&currentTime);}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00138}00138\ \ \ \ \ \ \ \ \ std::stringstream\ formattedTime;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00139}00139\ \ \ \ \ \ \ \ \ formattedTime\ <<\ std::put\_time(timeInfo,\ \textcolor{stringliteral}{"{}\%Y-\/\%m-\/\%d\_\%H-\/\%M-\/\%S"{}});}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00140}00140\ \ \ \ \ \ \ \ \ std::string\ formattedTimeString\ =\ formattedTime.str();}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00142}00142\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ formattedTimeString;}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00143}00143\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{simulation_8hpp_source_l00144}00144\ \};}

\end{DoxyCode}
