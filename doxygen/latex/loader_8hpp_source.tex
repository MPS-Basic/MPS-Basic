\doxysection{loader.\+hpp}
\hypertarget{loader_8hpp_source}{}\label{loader_8hpp_source}\index{src/loader.hpp@{src/loader.hpp}}
\mbox{\hyperlink{loader_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{input_8hpp}{input.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <filesystem>}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <fstream>}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <yaml-\/cpp/yaml.h>}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00010}00010\ \textcolor{keyword}{namespace\ }fs\ =\ std::filesystem;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00020}\mbox{\hyperlink{class_loader}{00020}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_loader}{Loader}}\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00021}00021\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00022}\mbox{\hyperlink{class_loader_a5edd4cd4cecc1077dacf543835c9493d}{00022}}\ \ \ \ \ \mbox{\hyperlink{struct_input}{Input}}\ \mbox{\hyperlink{class_loader_a5edd4cd4cecc1077dacf543835c9493d}{load}}(\textcolor{keyword}{const}\ fs::path\&\ settingPath)\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00023}00023\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_input}{Input}}\ input;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00024}00024\ \ \ \ \ \ \ \ \ input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}\ =\ \mbox{\hyperlink{class_loader_afebd7f3d342c12f11e7741e9cf30982f}{loadSettingYaml}}(settingPath);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00026}00026\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ [startTime,\ particles]\ =\ \mbox{\hyperlink{class_loader_a07b29f07a52384358c24bf6398950da9}{loadParticleProf}}(input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_a7eb2b2b8133e027047fd9cb98374dd34}{profPath}});}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00027}00027\ \ \ \ \ \ \ \ \ input.\mbox{\hyperlink{struct_input_a7aa2d9b1ceba57bf119044a84c71b1ed}{startTime}}\ \ \ \ \ \ \ \ \ \ \ \ \ =\ startTime;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00028}00028\ \ \ \ \ \ \ \ \ input.\mbox{\hyperlink{struct_input_aa1e111753c0ef8b7f3c31504f4cded79}{particles}}\ \ \ \ \ \ \ \ \ \ \ \ \ =\ particles;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00030}00030\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Output\ directory:\ "{}}\ <<\ input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_ad69555dd03731a1b8e45c50223a79063}{outputDirectory}}\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00031}00031\ \ \ \ \ \ \ \ \ std::filesystem::create\_directories(input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_ad69555dd03731a1b8e45c50223a79063}{outputDirectory}});}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00033}00033\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ outputSettingPath\ =\ input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_ad69555dd03731a1b8e45c50223a79063}{outputDirectory}}\ /\ settingPath.filename();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00034}00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::filesystem::exists(outputSettingPath))\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}setting\ file\ already\ exists\ in\ the\ output\ directory:\ "{}}\ <<\ outputSettingPath\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ std::exit(-\/1);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00037}00037\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ std::filesystem::copy\_file(settingPath,\ outputSettingPath);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00039}00039\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ outputProfPath\ =\ input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_ad69555dd03731a1b8e45c50223a79063}{outputDirectory}}\ /\ input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_a7eb2b2b8133e027047fd9cb98374dd34}{profPath}}.filename();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00041}00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::filesystem::exists(outputProfPath))\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}prof\ file\ already\ exists\ in\ the\ output\ directory:\ "{}}\ <<\ outputProfPath\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ std::exit(-\/1);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00044}00044\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ std::filesystem::copy\_file(input.\mbox{\hyperlink{struct_input_a543f51c76db7bc78db6385830fb49448}{settings}}.\mbox{\hyperlink{struct_settings_a7eb2b2b8133e027047fd9cb98374dd34}{profPath}},\ outputProfPath);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00046}00046\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00047}00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ input;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00048}00048\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00050}00050\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00051}\mbox{\hyperlink{class_loader_afebd7f3d342c12f11e7741e9cf30982f}{00051}}\ \ \ \ \ \mbox{\hyperlink{struct_settings}{Settings}}\ \mbox{\hyperlink{class_loader_afebd7f3d342c12f11e7741e9cf30982f}{loadSettingYaml}}(\textcolor{keyword}{const}\ fs::path\&\ settingPath)\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00052}00052\ \ \ \ \ \ \ \ \ YAML::Node\ yaml\ =\ YAML::LoadFile(settingPath.string());}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00054}00054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_settings}{Settings}}\ s;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00056}00056\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ computational\ conditions}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00057}00057\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a7ccc3a993adfd0dd8686cf2a5e0052fa}{dim}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}dim"{}}].as<\textcolor{keywordtype}{int}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00058}00058\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a4efbd869c69cf91f5a620eb777fce8f7}{particleDistance}}\ =\ yaml[\textcolor{stringliteral}{"{}particleDistance"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00059}00059\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_ae5d62fd011e489241c0bb81cd6129880}{dt}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}dt"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00060}00060\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a73cd9110793ede99e9ebe409e5e115fd}{endTime}}\ \ \ \ \ \ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}endTime"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00061}00061\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a141dd04de9ff6d85d920615b8c7721c8}{outputPeriod}}\ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}outputPeriod"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00062}00062\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_ab2f4295ff4eedc87307496f037ae30c1}{cflCondition}}\ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}cflCondition"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00063}00063\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a451e7992a5396258d59634d34c08f73f}{numPhysicalCores}}\ =\ yaml[\textcolor{stringliteral}{"{}numPhysicalCores"{}}].as<\textcolor{keywordtype}{int}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00065}00065\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ physical\ properties}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00066}00066\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a82533e4fd56cc3a975b8c0de3b4861c8}{fluidDensity}}\ \ \ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}fluidDensity"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00067}00067\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_aafe442716f18b5255f60461e424318f4}{kinematicViscosity}}\ =\ yaml[\textcolor{stringliteral}{"{}kinematicViscosity"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00069}00069\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ gravity}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00070}00070\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a03e5a92fc8bfe8a22f6a8fc22099463d}{gravity}}[0]\ =\ yaml[\textcolor{stringliteral}{"{}gravity"{}}][0].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00071}00071\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a03e5a92fc8bfe8a22f6a8fc22099463d}{gravity}}[1]\ =\ yaml[\textcolor{stringliteral}{"{}gravity"{}}][1].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00072}00072\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a03e5a92fc8bfe8a22f6a8fc22099463d}{gravity}}[2]\ =\ yaml[\textcolor{stringliteral}{"{}gravity"{}}][2].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00074}00074\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ free\ surface\ detection}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00075}00075\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a1bc155804e2a1199dd25300a587e1264}{surfaceDetectionRatio}}\ =\ yaml[\textcolor{stringliteral}{"{}surfaceDetectionRatio"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ pressure\ Poisson\ equation}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00078}00078\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a365f66cf0f2979b8de21a62487efbefd}{compressibility}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}compressibility"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00079}00079\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a7f273ed7d24bea05e579638d81c05705}{relaxationCoefficientForPressure}}\ =\ yaml[\textcolor{stringliteral}{"{}relaxationCoefficientForPressure"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00081}00081\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ collision}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00082}00082\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a3c43fb080366e4ed27dd5f5c2577ce68}{collisionDistance}}\ \ \ \ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}collisionDistanceRatio"{}}].as<\textcolor{keywordtype}{double}>()\ *\ s.\mbox{\hyperlink{struct_settings_a4efbd869c69cf91f5a620eb777fce8f7}{particleDistance}};}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00083}00083\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_abd1a0a50ce3901dd2a2c9921fd87bd49}{coefficientOfRestitution}}\ =\ yaml[\textcolor{stringliteral}{"{}coefficientOfRestitution"{}}].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ effective\ radius}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00086}00086\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a80732a572412e5d0ccd1177f66036b85}{re\_forNumberDensity}}\ =\ yaml[\textcolor{stringliteral}{"{}radiusRatioForNumberDensity"{}}].as<\textcolor{keywordtype}{double}>()\ *\ s.\mbox{\hyperlink{struct_settings_a4efbd869c69cf91f5a620eb777fce8f7}{particleDistance}};}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00087}00087\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_addf081560df074610e6de84a03169cd3}{re\_forGradient}}\ \ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}radiusRatioForGradient"{}}].as<\textcolor{keywordtype}{double}>()\ *\ s.\mbox{\hyperlink{struct_settings_a4efbd869c69cf91f5a620eb777fce8f7}{particleDistance}};}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00088}00088\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_afc3f6210bad35eff814ffd21753c96da}{re\_forLaplacian}}\ \ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}radiusRatioForLaplacian"{}}].as<\textcolor{keywordtype}{double}>()\ *\ s.\mbox{\hyperlink{struct_settings_a4efbd869c69cf91f5a620eb777fce8f7}{particleDistance}};}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00089}00089\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a11a8ac570c6863ef348dcb9180c80f3c}{reMax}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ std::max(\{s.\mbox{\hyperlink{struct_settings_a80732a572412e5d0ccd1177f66036b85}{re\_forNumberDensity}},\ s.\mbox{\hyperlink{struct_settings_addf081560df074610e6de84a03169cd3}{re\_forGradient}},\ s.\mbox{\hyperlink{struct_settings_afc3f6210bad35eff814ffd21753c96da}{re\_forLaplacian}}\});}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00091}00091\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ domain}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00092}00092\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a7f77b2d54ba8c9d6ec50c1a130ea88df}{xMin}}\ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}domainMin"{}}][0].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00093}00093\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a202a1e95fe40e3eb066d0e902fec27d5}{xMax}}\ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}domainMax"{}}][0].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00094}00094\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a9372bc6152311dae4809c961602584fb}{yMin}}\ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}domainMin"{}}][1].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00095}00095\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_abea6832651a8442c9d07ce1554cb1abb}{yMax}}\ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}domainMax"{}}][1].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00096}00096\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a7162dee9e75483dc62248a31a6e1fc55}{zMin}}\ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}domainMin"{}}][2].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00097}00097\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a788e4f401192ba8e179718d1046bec78}{zMax}}\ \ \ \ =\ yaml[\textcolor{stringliteral}{"{}domainMax"{}}][2].as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00098}00098\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_af3f1944d9c541dd6be7a059637a6deaa}{xLength}}\ =\ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a202a1e95fe40e3eb066d0e902fec27d5}{xMax}}\ -\/\ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a7f77b2d54ba8c9d6ec50c1a130ea88df}{xMin}};}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00099}00099\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_ab606eb4841560edc6299fa29f7374ddf}{yLength}}\ =\ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_abea6832651a8442c9d07ce1554cb1abb}{yMax}}\ -\/\ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a9372bc6152311dae4809c961602584fb}{yMin}};}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00100}00100\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a959c408695c3b5481cce6ddb1caee901}{zLength}}\ =\ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a788e4f401192ba8e179718d1046bec78}{zMax}}\ -\/\ s.\mbox{\hyperlink{struct_settings_af3cd0d5dc8ca911ece86b0df7deed350}{domain}}.\mbox{\hyperlink{class_domain_a7162dee9e75483dc62248a31a6e1fc55}{zMin}};}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00102}00102\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ yamlDir\ =\ settingPath.parent\_path();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00103}00103\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ outputDirectory\ path}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ relativeOutputDirectory\ =\ yaml[\textcolor{stringliteral}{"{}outputDirectory"{}}].as<std::string>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00105}00105\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_ad69555dd03731a1b8e45c50223a79063}{outputDirectory}}\ \ \ \ \ \ \ \ \ \ \ \ =\ std::filesystem::weakly\_canonical(yamlDir\ /\ relativeOutputDirectory);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00106}00106\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ profpath}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00107}00107\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ relativeProfPath\ =\ yaml[\textcolor{stringliteral}{"{}profPath"{}}].as<std::string>();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00108}00108\ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{struct_settings_a7eb2b2b8133e027047fd9cb98374dd34}{profPath}}\ \ \ \ \ \ \ \ \ \ \ \ =\ std::filesystem::weakly\_canonical(yamlDir\ /\ relativeProfPath);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00110}00110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00111}00111\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00113}\mbox{\hyperlink{class_loader_a07b29f07a52384358c24bf6398950da9}{00113}}\ \ \ \ \ std::pair<double,\ std::vector<Particle>>\ \mbox{\hyperlink{class_loader_a07b29f07a52384358c24bf6398950da9}{loadParticleProf}}(\textcolor{keyword}{const}\ fs::path\&\ profPath)\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00114}00114\ \ \ \ \ \ \ \ \ std::ifstream\ ifs;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00115}00115\ \ \ \ \ \ \ \ \ ifs.open(profPath);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ifs.fail())\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}cannot\ read\ prof\ file:\ "{}}\ <<\ std::filesystem::absolute(profPath)\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ std::exit(-\/1);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00119}00119\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00120}00120\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00121}00121\ \ \ \ \ \ \ \ \ std::vector<Particle>\ particles;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00122}00122\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ startTime;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00123}00123\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ particleSize;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00124}00124\ \ \ \ \ \ \ \ \ ifs\ >>\ startTime;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00125}00125\ \ \ \ \ \ \ \ \ ifs\ >>\ particleSize;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00126}00126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ particleSize;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ type\_int;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{particle_8hpp_aded321cd7610a60bfbc018a66067a3d6}{ParticleType}}\ type;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ Eigen::Vector3d\ pos,\ vel;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00130}00130\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ ifs\ >>\ type\_int;}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ ifs\ >>\ pos.x()\ >>\ pos.y()\ >>\ pos.z();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ ifs\ >>\ vel.x()\ >>\ vel.y()\ >>\ vel.z();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ type\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{particle_8hpp_aded321cd7610a60bfbc018a66067a3d6}{ParticleType}}\textcolor{keyword}{>}(type\_int);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ !=\ \mbox{\hyperlink{particle_8hpp_aded321cd7610a60bfbc018a66067a3d6a401357e57c765967393ba391a338e89b}{ParticleType::Ghost}})\ \{}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ particles.emplace\_back(particles.size(),\ type,\ pos,\ vel);}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00138}00138\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00139}00139\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00140}00140\ \ \ \ \ \ \ \ \ ifs.close();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00141}00141\ \ \ \ \ \ \ \ \ ifs.clear();}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00142}00142\ }
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00143}00143\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{startTime,\ particles\};}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00144}00144\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{loader_8hpp_source_l00145}00145\ \};}

\end{DoxyCode}
